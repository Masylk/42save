{"ast":null,"code":"var _jsxFileName = \"/home/mtogbe/42save/transcendence_box/pong/src/components/MultiplayerManager.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport GameBox from './GameBox';\nimport styled from 'styled-components';\nimport io from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io('ws://localhost:8000');\nsocket.on('connect', () => {\n  console.log('Connected to socket.io server');\n});\nsocket.on('connect_error', error => {\n  console.error('Failed to connect to socket.io server', error);\n});\nconst MultiplayerManager = props => {\n  _s();\n  const [infos, setInfos] = useState({\n    opponentX: 860,\n    opponentY: 200\n  });\n  useEffect(() => {\n    // Listen to the 'connect' event\n    socket.on('connect', () => {\n      console.log('Connected to server');\n    });\n\n    // Listen to the 'opponentMoved' event\n    socket.on('opponentMoved', data => {\n      setInfos({\n        opponentX: data.x,\n        opponentY: data.y\n      });\n    });\n\n    // Emit a 'playerMoved' event\n    const handleMove = (x, y) => {\n      socket.emit('playerMoved', {\n        x,\n        y\n      });\n    };\n\n    // Clean up the event listeners when the component unmounts\n    return () => {\n      socket.off('connect');\n      socket.off('opponentMoved');\n    };\n  }, [setInfos]);\n  return /*#__PURE__*/_jsxDEV(GameBox, {\n    height: props.height,\n    width: props.width,\n    opponentPosX: infos.opponentX,\n    opponentPosY: infos.opponentY,\n    socket: socket\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n_s(MultiplayerManager, \"wvEl2phXcfXOF5v35Xrf3B8hk9U=\");\n_c = MultiplayerManager;\nexport default MultiplayerManager;\nvar _c;\n$RefreshReg$(_c, \"MultiplayerManager\");","map":{"version":3,"names":["useEffect","useState","GameBox","styled","io","jsxDEV","_jsxDEV","socket","on","console","log","error","MultiplayerManager","props","_s","infos","setInfos","opponentX","opponentY","data","x","y","handleMove","emit","off","height","width","opponentPosX","opponentPosY","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/mtogbe/42save/transcendence_box/pong/src/components/MultiplayerManager.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport GameBox from './GameBox';\nimport styled from 'styled-components'\nimport io from 'socket.io-client'\n\nconst socket = io('ws://localhost:8000');\n\nsocket.on('connect', () => {\n    console.log('Connected to socket.io server');\n});\n\nsocket.on('connect_error', (error) => {\n    console.error('Failed to connect to socket.io server', error);\n});\n\nconst MultiplayerManager = (props) => {\n    const [infos, setInfos] = useState({\n        opponentX: 860,\n        opponentY: 200,\n    })\n\n    useEffect(() => {\n        // Listen to the 'connect' event\n        socket.on('connect', () => {\n           console.log('Connected to server');\n        });\n        \n        // Listen to the 'opponentMoved' event\n        socket.on('opponentMoved', (data) => {\n           setInfos({\n              opponentX: data.x,\n              opponentY: data.y,\n           });\n        });\n        \n        // Emit a 'playerMoved' event\n        const handleMove = (x, y) => {\n           socket.emit('playerMoved', { x, y });\n        }\n        \n        // Clean up the event listeners when the component unmounts\n        return () => {\n           socket.off('connect');\n           socket.off('opponentMoved');\n        };\n     }, [setInfos]);\n    \n    return (\n        <GameBox height={props.height} width={props.width}\n        opponentPosX={infos.opponentX} opponentPosY={infos.opponentY} socket={socket}>\n        </GameBox>\n    )\n}\n\n\n \nexport default MultiplayerManager;"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,OAAO,MAAM,WAAW;AAC/B,OAAOC,MAAM,MAAM,mBAAmB;AACtC,OAAOC,EAAE,MAAM,kBAAkB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEjC,MAAMC,MAAM,GAAGH,EAAE,CAAC,qBAAqB,CAAC;AAExCG,MAAM,CAACC,EAAE,CAAC,SAAS,EAAE,MAAM;EACvBC,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;AAChD,CAAC,CAAC;AAEFH,MAAM,CAACC,EAAE,CAAC,eAAe,EAAGG,KAAK,IAAK;EAClCF,OAAO,CAACE,KAAK,CAAC,uCAAuC,EAAEA,KAAK,CAAC;AACjE,CAAC,CAAC;AAEF,MAAMC,kBAAkB,GAAIC,KAAK,IAAK;EAAAC,EAAA;EAClC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGf,QAAQ,CAAC;IAC/BgB,SAAS,EAAE,GAAG;IACdC,SAAS,EAAE;EACf,CAAC,CAAC;EAEFlB,SAAS,CAAC,MAAM;IACZ;IACAO,MAAM,CAACC,EAAE,CAAC,SAAS,EAAE,MAAM;MACxBC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;IACrC,CAAC,CAAC;;IAEF;IACAH,MAAM,CAACC,EAAE,CAAC,eAAe,EAAGW,IAAI,IAAK;MAClCH,QAAQ,CAAC;QACNC,SAAS,EAAEE,IAAI,CAACC,CAAC;QACjBF,SAAS,EAAEC,IAAI,CAACE;MACnB,CAAC,CAAC;IACL,CAAC,CAAC;;IAEF;IACA,MAAMC,UAAU,GAAGA,CAACF,CAAC,EAAEC,CAAC,KAAK;MAC1Bd,MAAM,CAACgB,IAAI,CAAC,aAAa,EAAE;QAAEH,CAAC;QAAEC;MAAE,CAAC,CAAC;IACvC,CAAC;;IAED;IACA,OAAO,MAAM;MACVd,MAAM,CAACiB,GAAG,CAAC,SAAS,CAAC;MACrBjB,MAAM,CAACiB,GAAG,CAAC,eAAe,CAAC;IAC9B,CAAC;EACJ,CAAC,EAAE,CAACR,QAAQ,CAAC,CAAC;EAEf,oBACIV,OAAA,CAACJ,OAAO;IAACuB,MAAM,EAAEZ,KAAK,CAACY,MAAO;IAACC,KAAK,EAAEb,KAAK,CAACa,KAAM;IAClDC,YAAY,EAAEZ,KAAK,CAACE,SAAU;IAACW,YAAY,EAAEb,KAAK,CAACG,SAAU;IAACX,MAAM,EAAEA;EAAO;IAAAsB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACnE;AAElB,CAAC;AAAAlB,EAAA,CArCKF,kBAAkB;AAAAqB,EAAA,GAAlBrB,kBAAkB;AAyCxB,eAAeA,kBAAkB;AAAC,IAAAqB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}