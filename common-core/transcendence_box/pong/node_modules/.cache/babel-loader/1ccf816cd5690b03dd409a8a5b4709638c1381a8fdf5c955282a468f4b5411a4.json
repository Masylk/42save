{"ast":null,"code":"var _jsxFileName = \"/home/mtogbe/42save/transcendence_box/pong/src/components/Character.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport birdImg from '../img/Player 1.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ACCELERATION = 10;\nconst MAX_SPEED = ACCELERATION * 2;\nconst BIRD_WIDTH = 31;\nconst BIRD_HEIGHT = 218;\nconst PLAYERMODE = 1;\nconst ONLINEMODE = 0;\nconst OPPONENTMODE = 2;\nconst Character = /*#__PURE__*/_s( /*#__PURE__*/React.forwardRef(_c = _s((props, ref) => {\n  _s();\n  const [characterPosition, setCharacterPosition] = useState({\n    x: props.x,\n    y: props.y\n  });\n  const [characterSpeed, setCharacterSpeed] = useState({\n    x: 0,\n    y: 0\n  });\n  let [isKeyDown, setIsKeyDown] = useState(false);\n  useEffect(() => {\n    console.log(props.controlMode);\n    const handleKeyDown = event => {\n      setIsKeyDown(true);\n      switch (event.key.toLowerCase()) {\n        case props.controlMode === PLAYERMODE ? 'arrowup' : 'w' && props.controlMode === ONLINEMODE:\n          setCharacterSpeed(prevSpeed => ({\n            x: prevSpeed.x,\n            y: Math.max(prevSpeed.y - ACCELERATION, -MAX_SPEED)\n          }));\n          break;\n        case props.controlMode === PLAYERMODE ? 'arrowup' : 'z' && props.controlMode !== ONLINEMODE:\n          setCharacterSpeed(prevSpeed => ({\n            x: prevSpeed.x,\n            y: Math.max(prevSpeed.y - ACCELERATION, -MAX_SPEED)\n          }));\n          break;\n        case props.controlMode === PLAYERMODE ? 'arrowdown' : 's' && props.controlMode !== ONLINEMODE:\n          setCharacterSpeed(prevSpeed => ({\n            x: prevSpeed.x,\n            y: Math.min(prevSpeed.y + ACCELERATION, MAX_SPEED)\n          }));\n          break;\n        default:\n          break;\n      }\n    };\n    const handleKeyUp = event => {\n      switch (event.key.toLowerCase()) {\n        case props.controlMode === PLAYERMODE ? 'arrowup' : 'w' && props.controlMode === ONLINEMODE:\n          setCharacterSpeed({\n            x: 0,\n            y: 0\n          });\n          setIsKeyDown(false);\n          break;\n        case props.controlMode === PLAYERMODE ? 'arrowup' : 'z' && props.controlMode !== ONLINEMODE:\n          setCharacterSpeed({\n            x: 0,\n            y: 0\n          });\n          setIsKeyDown(false);\n          break;\n        case props.controlMode === PLAYERMODE ? 'arrowdown' : 's' && props.controlMode !== ONLINEMODE:\n          setCharacterSpeed({\n            x: 0,\n            y: 0\n          });\n          setIsKeyDown(false);\n          break;\n        default:\n          break;\n      }\n    };\n    if (props.controlMode === PLAYERMODE || props.controlMode === OPPONENTMODE) {\n      window.addEventListener('keydown', handleKeyDown);\n      window.addEventListener('keyup', handleKeyUp);\n      return () => {\n        window.removeEventListener('keydown', handleKeyDown);\n        window.removeEventListener('keyup', handleKeyUp);\n      };\n    }\n  }, [characterPosition, props.controlMode]);\n  useEffect(() => {\n    if (isKeyDown) {\n      const intervalId = setInterval(() => {\n        setCharacterPosition(prevPosition => ({\n          x: prevPosition.x + characterSpeed.x,\n          y: Math.min(Math.max(prevPosition.y + characterSpeed.y, 30), 430)\n        }));\n      }, 16);\n      return () => {\n        clearInterval(intervalId);\n      };\n    }\n  }, [characterSpeed, isKeyDown]);\n  return /*#__PURE__*/_jsxDEV(CharacterDiv, {\n    ref: ref,\n    height: BIRD_HEIGHT,\n    width: BIRD_WIDTH,\n    x: characterPosition.x,\n    y: characterPosition.y\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 7\n  }, this);\n}, \"0RXoG/gq0TR8ThmX9DhUGXmSOFU=\")), \"0RXoG/gq0TR8ThmX9DhUGXmSOFU=\");\n_c2 = Character;\nconst CharacterDiv = styled.div.attrs(props => ({\n  style: {\n    position: 'absolute',\n    backgroundImage: `url(${birdImg})`,\n    backgroundColor: 'red',\n    height: `${props.height}px`,\n    width: `${props.width}px`,\n    left: `${props.x}px`,\n    top: `${props.y}px`,\n    borderRadius: '0%'\n  }\n}))``;\n_c3 = CharacterDiv;\nexport default Character;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Character$React.forwardRef\");\n$RefreshReg$(_c2, \"Character\");\n$RefreshReg$(_c3, \"CharacterDiv\");","map":{"version":3,"names":["React","useEffect","useState","styled","birdImg","jsxDEV","_jsxDEV","ACCELERATION","MAX_SPEED","BIRD_WIDTH","BIRD_HEIGHT","PLAYERMODE","ONLINEMODE","OPPONENTMODE","Character","_s","forwardRef","_c","props","ref","characterPosition","setCharacterPosition","x","y","characterSpeed","setCharacterSpeed","isKeyDown","setIsKeyDown","console","log","controlMode","handleKeyDown","event","key","toLowerCase","prevSpeed","Math","max","min","handleKeyUp","window","addEventListener","removeEventListener","intervalId","setInterval","prevPosition","clearInterval","CharacterDiv","height","width","fileName","_jsxFileName","lineNumber","columnNumber","_c2","div","attrs","style","position","backgroundImage","backgroundColor","left","top","borderRadius","_c3","$RefreshReg$"],"sources":["/home/mtogbe/42save/transcendence_box/pong/src/components/Character.js"],"sourcesContent":["\r\nimport React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport birdImg from '../img/Player 1.png';\r\n\r\nconst ACCELERATION = 10;\r\nconst MAX_SPEED = ACCELERATION * 2;\r\nconst BIRD_WIDTH = 31;\r\nconst BIRD_HEIGHT = 218;\r\nconst PLAYERMODE = 1;\r\nconst ONLINEMODE = 0;\r\nconst OPPONENTMODE = 2;\r\n\r\nconst Character = React.forwardRef((props, ref) => {\r\n    const [characterPosition, setCharacterPosition] = useState({ x: props.x, y: props.y });\r\n    const [characterSpeed, setCharacterSpeed] = useState({ x: 0, y: 0 });\r\n    let [isKeyDown, setIsKeyDown] = useState(false);\r\n    \r\n    useEffect(() => {\r\n      console.log(props.controlMode);\r\n      const handleKeyDown = (event) => {\r\n        setIsKeyDown(true);\r\n        switch (event.key.toLowerCase()) {\r\n          case props.controlMode === PLAYERMODE ? 'arrowup' : ('w' && props.controlMode === ONLINEMODE):\r\n            setCharacterSpeed((prevSpeed) => ({\r\n              x: prevSpeed.x,\r\n              y: Math.max(prevSpeed.y - ACCELERATION, -MAX_SPEED),\r\n            }));\r\n            break;\r\n          case props.controlMode === PLAYERMODE ? 'arrowup' : ('z' && props.controlMode !== ONLINEMODE):\r\n            setCharacterSpeed((prevSpeed) => ({\r\n              x: prevSpeed.x,\r\n              y: Math.max(prevSpeed.y - ACCELERATION, -MAX_SPEED),\r\n            }));\r\n            break;\r\n          case props.controlMode === PLAYERMODE ? 'arrowdown' : ('s' && props.controlMode !== ONLINEMODE):\r\n            setCharacterSpeed((prevSpeed) => ({\r\n              x: prevSpeed.x,\r\n              y: Math.min(prevSpeed.y + ACCELERATION, MAX_SPEED),\r\n            }));\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      };\r\n  \r\n      const handleKeyUp = (event) => {\r\n        switch (event.key.toLowerCase()) {\r\n          case props.controlMode === PLAYERMODE ? 'arrowup' : ('w' && props.controlMode === ONLINEMODE):\r\n            setCharacterSpeed({ x: 0, y: 0 });\r\n            setIsKeyDown(false);\r\n            break;\r\n          case props.controlMode === PLAYERMODE ? 'arrowup' : ('z' && props.controlMode !== ONLINEMODE):\r\n            setCharacterSpeed({ x: 0, y: 0 });\r\n            setIsKeyDown(false);\r\n            break;\r\n          case props.controlMode === PLAYERMODE ? 'arrowdown' : ('s' && props.controlMode !== ONLINEMODE):\r\n            setCharacterSpeed({ x: 0, y: 0 });\r\n            setIsKeyDown(false);\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      };\r\n      if (props.controlMode === PLAYERMODE || props.controlMode === OPPONENTMODE)\r\n      {\r\n        window.addEventListener('keydown', handleKeyDown);\r\n        window.addEventListener('keyup', handleKeyUp);\r\n    \r\n        return () => {\r\n          window.removeEventListener('keydown', handleKeyDown);\r\n          window.removeEventListener('keyup', handleKeyUp);\r\n        };\r\n      }\r\n    }, [characterPosition, props.controlMode]);\r\n  \r\n    useEffect(() => {\r\n      if (isKeyDown) {\r\n          const intervalId = setInterval(() => {\r\n            setCharacterPosition((prevPosition) => ({\r\n              x: prevPosition.x + characterSpeed.x,\r\n              y: Math.min(Math.max(prevPosition.y + characterSpeed.y, 30), 430)\r\n            }));\r\n          }, 16);\r\n          return () => {\r\n            clearInterval(intervalId);\r\n          };\r\n      }\r\n    }, [characterSpeed, isKeyDown]);\r\n    \r\n    return (\r\n      <CharacterDiv ref={ref} height={BIRD_HEIGHT} width={BIRD_WIDTH} x={characterPosition.x} y={characterPosition.y} />\r\n    );\r\n  });\r\n  \r\n\r\n  const CharacterDiv = styled.div.attrs((props) => ({\r\n    style: {\r\n      position: 'absolute',\r\n      backgroundImage: `url(${birdImg})`,\r\n      backgroundColor: 'red',\r\n      height: `${props.height}px`,\r\n      width: `${props.width}px`,\r\n      left: `${props.x}px`,\r\n      top: `${props.y}px`,\r\n      borderRadius: '0%',\r\n    },\r\n  }))``;\r\n\r\nexport default Character;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}